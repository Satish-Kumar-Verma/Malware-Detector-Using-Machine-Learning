import os
import sys

def print_directory_tree(startpath, prefix='', output=sys.stdout):
    for index, item in enumerate(os.listdir(startpath)):
        if '__pycache__' not in item:  # Skip cache files
            path = os.path.join(startpath, item)
            is_last = index == len(os.listdir(startpath)) - 1
            connector = '└── ' if is_last else '├── '
            print(prefix + connector + item, file=output)
            if os.path.isdir(path):
                new_prefix = prefix + ('    ' if is_last else '│   ')
                print_directory_tree(path, new_prefix, output)

def scan_directory(output_file=None):
    current_directory = os.getcwd()
    if output_file:
        with open(output_file, 'w', encoding='utf-8') as f:
            print(os.path.basename(current_directory) + '/', file=f)
            print_directory_tree(current_directory, output=f)
    else:
        print(os.path.basename(current_directory) + '/')
        print_directory_tree(current_directory)

if __name__ == '__main__':
    output_file = "project_dir_structure.txt"  
    scan_directory(output_file)
